je_cabinet = {
	icon = "gfx/interface/icons/law_icons/single_party_state.dds"

	scripted_button = je_issue_executive_order_button
	scripted_button = je_call_elections_button
	
	scripted_button = je_enact_state_of_emergency_button
	scripted_button = je_lift_state_of_emergency_button

	possible = {
		
		exists = ruler
		
	}

	immediate = {
	
		custom_tooltip = {
			text = ruler_is_head_of_government.tt
			ruler = { 
				if = {
					limit = { NOT = { has_modifier = THIS_is_ruler } }
					add_modifier = { name = THIS_is_ruler } 
				}
			}
			random_interest_group = {
				limit = { leader = { is_ruler = yes } }
				if = {
					limit = { NOT = { has_modifier = cabinet_minister_ig } }
					add_modifier = { name = cabinet_minister_ig }
				}
			}
		}
		
	}

	invalid = {
		
		custom_tooltip = {
			text = ruler_is_not_head_of_government.tt
			ruler = { NOT = { has_modifier = THIS_is_ruler } }
		}
		
	}
	
	on_invalid = {
		
		#Clear all modifiers
		every_interest_group = {
			leader = { 
				remove_modifier = THIS_is_ruler
				remove_modifier = cabinet_minister
			}
			remove_modifier = cabinet_minister_ig
		}
		every_scope_character = {
			remove_modifier = THIS_is_ruler
			remove_modifier = cabinet_minister
		}
		
	}
	
	on_weekly_pulse = {
	
		effect = {
			every_interest_group = {
				limit = { 
					is_in_government = no
					NOR = {
						leader = { has_modifier = THIS_is_ruler }
						leader = { has_modifier = cabinet_minister }
						has_modifier = cabinet_minister_ig
					}
				}
				leader = { 
					remove_modifier = THIS_is_ruler
					remove_modifier = cabinet_minister
				}
				remove_modifier = cabinet_minister_ig
			}
		}
		
	}

	weight = 100

	should_be_pinned_by_default = no

	transferable = no

	progressbar = no
}