je_withdraw_sovereign_fund_button = {
	name = "je_withdraw_sovereign_fund_button"
	desc = "je_withdraw_sovereign_fund_button_desc"

	visible = { 
		
	}

	possible = {
	
		#Sufficient funds to withdraw
		investment_pool > root.var:sovereign_wealth_fund_withdrawal_amount
		
		#Gold reserves are not full
		gold_reserves < gold_reserves_limit
		
		#Can only fire once per month
		custom_tooltip = {
			text = withdraw_deposit_sovereign_fund.tt
			NOT = { has_variable = sovereign_wealth_fund_timer }
		}
		
		#Reserve Powers holder agrees
		NAND = {
			has_law = law_type:law_hybrid_chamber
			custom_tooltip = {
				text = double_key_system_withdraw.tt
				any_interest_group = {
					leader = { has_variable = ceremonial_head_of_state }
					OR = {
						law_stance = {
							law = law_type:law_very_deflationary_monetary_policy
							value < neutral
						}
						law_stance = {
							law = law_type:law_deflationary_monetary_policy
							value < neutral
						}
					}
				}
			}
		}
		
	}

	effect = {
		
		#Withdraw money
		add_treasury = root.var:sovereign_wealth_fund_withdrawal_amount
		change_variable = {
			name = sovereign_wealth_fund_withdrawal_amount
			multiply = -1
		}
		add_investment_pool = root.var:sovereign_wealth_fund_withdrawal_amount
		
		calculate_sovereign_wealth_fund = yes
		
		#Can only fire once per month
		set_variable = { name = sovereign_wealth_fund_timer months = 1 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				scaled_debt > 0
			}
			add = 10 
		}
	}
	
}

je_inject_sovereign_fund_button = {
	name = "je_inject_sovereign_fund_button"
	desc = "je_inject_sovereign_fund_button_desc"

	visible = { 
		
	}

	possible = {
	
		#Sufficient funds to deposit
		gold_reserves > root.var:sovereign_wealth_fund_withdrawal_amount
		
		#Can only fire once per month
		custom_tooltip = {
			text = withdraw_deposit_sovereign_fund.tt
			NOT = { has_variable = sovereign_wealth_fund_timer }
		}
		
		#Reserve Powers holder agrees
		NAND = {
			has_law = law_type:law_hybrid_chamber
			custom_tooltip = {
				text = double_key_system_inject.tt
				any_interest_group = {
					leader = { has_variable = ceremonial_head_of_state }
					OR = {
						law_stance = {
							law = law_type:law_very_expansionary_monetary_policy
							value < neutral
						}
						law_stance = {
							law = law_type:law_expansionary_monetary_policy
							value < neutral
						}
					}
				}
			}
		}
		
	}

	effect = {
		
		#Deposit money
		add_investment_pool = root.var:sovereign_wealth_fund_withdrawal_amount
		change_variable = {
			name = sovereign_wealth_fund_withdrawal_amount
			multiply = -1
		}
		add_treasury = root.var:sovereign_wealth_fund_withdrawal_amount
		
		calculate_sovereign_wealth_fund = yes
		
		#Can only fire once per month
		set_variable = { name = sovereign_wealth_fund_timer months = 1 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				gold_reserves < gold_reserves_limit
			}
			add = 10 
		}
	}
	
}