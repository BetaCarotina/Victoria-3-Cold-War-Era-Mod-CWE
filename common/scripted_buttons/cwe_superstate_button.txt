je_join_superstate_free_trade_zone_button = {
	name = "je_join_superstate_free_trade_zone_button"
	desc = "je_join_superstate_free_trade_zone_button_desc"

	visible = { 
		
		#Not already in Free Trade Zone
		NOT = { has_variable = superstate_free_trade_zone }
		
		#Not already in a Customs Union
		NOT = { has_variable = superstate_customs_union }
		
	}

	possible = {
	
		#THIS is not at war
		is_at_war = no
	
		#Not legally barred from joining international blocs
		NOT = { has_law = law_type:law_isolationism }
	
		#Sufficient government support to join free trade zone
		government_has_legislative_simple_majority = yes
		any_interest_group = { 
			OR = { 
				leader = { is_ruler = yes }
				is_in_government = yes
			}
			law_stance = {
				law = law_type:law_free_trade
				value >= neutral
			}
		}
		
		#Tech researched
		has_technology_researched = tech_economy_4
		has_technology_researched = tech_geopolitics_4
		
	}

	effect = {
		
		#Enter into Free Trade Zone with others
		set_variable = superstate_free_trade_zone
		every_country = {
			limit = { 
				shares_same_superstate = yes
				NOR = {
					has_diplomatic_pact = { who = ROOT type = trade_agreement }
					is_junior_in_customs_union = yes
				}
			}
			create_diplomatic_pact = {
				country = ROOT
				type = trade_agreement
			}
			change_relations = { 
				country = ROOT
				value = 25
			}
		}
		
	}
	
	ai_chance = {
		base = 10
	}
	
}

je_leave_superstate_free_trade_zone_button = {
	name = "je_leave_superstate_free_trade_zone_button"
	desc = "je_leave_superstate_free_trade_zone_button_desc"

	visible = { 
		
		#Already in Free Trade Zone
		has_variable = superstate_free_trade_zone
		
		#Not already in a Customs Union
		NOT = { has_variable = superstate_customs_union }
		
	}

	possible = {
	
		OR = { 
		
			#Legally barred from joining international blocs
			has_law = law_type:law_isolationism
	
			AND = { 
			
				#Sufficient government support to leave free trade zone
				government_has_legislative_simple_majority = yes
				
				#Government seeks to leave free trade zone
				any_interest_group = { 
					OR = { 
						leader = { is_ruler = yes }
						is_in_government = yes
					}
					law_stance = {
						law = law_type:law_isolationism
						value >= neutral
					}
				}
				
			}
			
		}
		
	}

	effect = {
		
		#Leave Free Trade Zone with others
		remove_variable = superstate_free_trade_zone
		every_country = {
			limit = { 
				has_variable = superstate_free_trade_zone
				shares_same_superstate = yes
				has_diplomatic_pact = { who = ROOT type = trade_agreement }
			}
			remove_diplomatic_pact = {
				country = ROOT
				type = trade_agreement
			}
			change_relations = { 
				country = ROOT
				value = -25
			}
		}
		
	}
	
	ai_chance = {
		base = 10
	}
	
}

je_join_superstate_customs_union_button = {
	name = "je_join_superstate_customs_union_button"
	desc = "je_join_superstate_customs_union_button_desc"

	visible = { 
		
		#Not already in Customs Union
		NOT = { has_variable = superstate_customs_union }
		
	}

	possible = {
	
		#THIS is not at war
		is_at_war = no
	
		#Not legally barred from joining international blocs
		NOT = { has_law = law_type:law_isolationism }
	
		#Sufficient government support to join free trade zone
		government_has_legislative_simple_majority = yes
		any_interest_group = { 
			OR = { 
				leader = { is_ruler = yes }
				is_in_government = yes
			}
			law_stance = {
				law = law_type:law_free_trade
				value >= neutral
			}
		}
		
		#Tech researched
		has_technology_researched = tech_economy_5
		has_technology_researched = tech_geopolitics_5
		
		#Has another country to create CU with
		any_country = {
			shares_same_superstate = yes
			is_junior_in_customs_union = no
		}
		
	}

	effect = {
		
		create_superstate_customs_union = yes
		
	}
	
	ai_chance = {
		base = 10
	}
	
}

je_leave_superstate_customs_union_button = {
	name = "je_leave_superstate_customs_union_button"
	desc = "je_leave_superstate_customs_union_button_desc"

	visible = { 
		
		#Already in Customs Union
		has_variable = superstate_customs_union
		
	}

	possible = {
	
		OR = { 
		
			#Legally barred from joining international blocs
			has_law = law_type:law_isolationism
	
			AND = { 
			
				#Sufficient government support to leave free trade zone
				government_has_legislative_simple_majority = yes
				
				#Government seeks to leave free trade zone
				any_interest_group = { 
					OR = { 
						leader = { is_ruler = yes }
						is_in_government = yes
					}
					law_stance = {
						law = law_type:law_isolationism
						value >= neutral
					}
				}
				
			}
			
		}
		
	}

	effect = {
		
		#Leave Customs Union with others
		remove_variable = superstate_customs_union
		every_country = {
			limit = { 
				has_variable = superstate_customs_union
				shares_same_superstate = yes
				has_diplomatic_pact = { who = ROOT type = customs_union }
			}
			remove_diplomatic_pact = {
				country = ROOT
				type = customs_union
			}
			change_relations = { 
				country = ROOT
				value = -25
			}
		}
		
	}
	
	ai_chance = {
		base = 10
	}
	
}

je_join_superstate_defence_union_button = {
	name = "je_join_superstate_defence_union_button"
	desc = "je_join_superstate_defence_union_button_desc"

	visible = { 
		
		#Not already in Defence Union
		NOT = { has_variable = superstate_defence_union }
		
	}

	possible = {
	
		#THIS is not at war
		is_at_war = no
	
		#Not legally barred from joining international blocs
		NOT = { has_law = law_type:law_no_war }
	
		#Sufficient government support to join free trade zone
		government_has_legislative_simple_majority = yes
		any_interest_group = { 
			OR = { 
				leader = { is_ruler = yes }
				is_in_government = yes
			}
			law_stance = {
				law = law_type:law_no_war
				value < neutral
			}
		}
		
		#Tech researched
		has_technology_researched = tech_politics_6
		has_technology_researched = tech_geopolitics_6
		
	}

	effect = {
		
		#Enter into Defence Union with others
		set_variable = superstate_defence_union
		every_country = {
			limit = { 
				shares_same_superstate = yes
				NOR = {
					has_diplomatic_pact = { who = ROOT type = defensive_pact }
					has_diplomatic_pact = { who = ROOT type = alliance }
				}
			}
			create_diplomatic_pact = {
				country = ROOT
				type = defensive_pact
			}
			change_relations = { 
				country = ROOT
				value = 25
			}
		}
		
	}
	
	ai_chance = {
		base = 10
	}
	
}

je_leave_superstate_defence_union_button = {
	name = "je_leave_superstate_defence_union_button"
	desc = "je_leave_superstate_defence_union_button_desc"

	visible = { 
		
		#Already in Defence Union
		has_variable = superstate_defence_union
		
	}

	possible = {
	
		OR = { 
		
			#Legally barred from joining international blocs
			has_law = law_type:law_no_war
	
			AND = { 
			
				#Sufficient government support to leave free trade zone
				government_has_legislative_simple_majority = yes
				
				#Government seeks to leave defence union
				any_interest_group = { 
					OR = { 
						leader = { is_ruler = yes }
						is_in_government = yes
					}
					law_stance = {
						law = law_type:law_no_war
						value >= neutral
					}
				}
				
			}
			
		}
		
	}

	effect = {
		
		#Leave Defence Union with others
		remove_variable = superstate_defence_union
		every_country = {
			limit = { 
				has_variable = superstate_defence_union
				shares_same_superstate = yes
				has_diplomatic_pact = { who = ROOT type = defensive_pact }
			}
			remove_diplomatic_pact = {
				country = ROOT
				type = defensive_pact
			}
			change_relations = { 
				country = ROOT
				value = -25
			}
		}
		
	}
	
	ai_chance = {
		base = 10
	}
	
}